{
  "info": {
    "name": "Laundry Locker - Full Flow API Collection v4",
    "description": "ðŸ§º Bá»˜ SÆ¯U Táº¬P API Äáº¦Y Äá»¦ CHO Há»† THá»NG LAUNDRY LOCKER\n\nðŸ“‹ Tá»”NG QUAN:\n- Tá»•ng sá»‘ API: 170+ endpoints\n- PhiÃªn báº£n: 4.0\n- Cáº­p nháº­t: 2026-02-03\n\nðŸ‘¥ ROLES TRONG Há»† THá»NG:\n- USER: KhÃ¡ch hÃ ng sá»­ dá»¥ng dá»‹ch vá»¥\n- PARTNER: Chá»§ cá»­a hÃ ng giáº·t á»§i\n- ADMIN: Quáº£n trá»‹ viÃªn há»‡ thá»‘ng\n\nðŸ” TEST ACCOUNTS:\n- Admin: admin@laundrylocker.com / Password@123\n- Partner: partner1@laundrylocker.com / Password@123\n- User: user1@laundrylocker.com / Password@123\n\nðŸ“¦ SERVICE CATEGORIES:\n- STORAGE: Dá»‹ch vá»¥ gá»­i Ä‘á»“ (giÃ¡ cá»‘ Ä‘á»‹nh)\n- LAUNDRY: Dá»‹ch vá»¥ giáº·t Ä‘á»“ (giÃ¡ theo kg)\n\nðŸ“Š LUá»’NG NGHIá»†P Vá»¤:\n1. Luá»“ng Ä‘Äƒng nháº­p/Ä‘Äƒng kÃ½\n2. Luá»“ng Ä‘áº·t Ä‘Æ¡n STORAGE\n3. Luá»“ng Ä‘áº·t Ä‘Æ¡n LAUNDRY\n4. Luá»“ng xá»­ lÃ½ Ä‘Æ¡n (Partner/Staff)\n5. Luá»“ng thanh toÃ¡n\n6. Luá»“ng nháº­n Ä‘á»“\n7. Luá»“ng Loyalty\n8. Luá»“ng Admin",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "laundry-locker-full-flow-api-v4"
  },
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:8080", "type": "string"},
    {"key": "accessToken", "value": "", "type": "string"},
    {"key": "refreshToken", "value": "", "type": "string"},
    {"key": "adminAccessToken", "value": "", "type": "string"},
    {"key": "adminRefreshToken", "value": "", "type": "string"},
    {"key": "partnerAccessToken", "value": "", "type": "string"},
    {"key": "partnerRefreshToken", "value": "", "type": "string"},
    {"key": "tempToken", "value": "", "type": "string"},
    {"key": "orderId", "value": "", "type": "string"},
    {"key": "orderCode", "value": "", "type": "string"},
    {"key": "pinCode", "value": "", "type": "string"},
    {"key": "paymentId", "value": "", "type": "string"},
    {"key": "paymentUrl", "value": "", "type": "string"},
    {"key": "refundId", "value": "", "type": "string"},
    {"key": "storeId", "value": "1", "type": "string"},
    {"key": "lockerId", "value": "1", "type": "string"},
    {"key": "boxId", "value": "1", "type": "string"},
    {"key": "serviceId", "value": "1", "type": "string"},
    {"key": "userId", "value": "", "type": "string"},
    {"key": "partnerId", "value": "", "type": "string"},
    {"key": "accessCode", "value": "", "type": "string"},
    {"key": "accessCodeId", "value": "", "type": "string"},
    {"key": "notificationId", "value": "1", "type": "string"},
    {"key": "stampCardId", "value": "", "type": "string"},
    {"key": "promotionId", "value": "", "type": "string"}
  ],
  "item": [
    {
      "name": "ðŸ” 1. Authentication",
      "description": "APIs xÃ¡c thá»±c ngÆ°á»i dÃ¹ng (3 roles: USER, PARTNER, ADMIN)",
      "item": [
        {
          "name": "ðŸ“§ 1.1 Email Authentication",
          "description": "ÄÄƒng nháº­p báº±ng email OTP",
          "item": [
            {
              "name": "Step 1: Send OTP to Email",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/email/send-otp",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"user1@laundrylocker.com\"\n}"}
              }
            },
            {
              "name": "Step 2: Verify OTP (Existing User)",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/email/verify-otp",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"user1@laundrylocker.com\",\n  \"otp\": \"123456\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    if(jsonData.data.accessToken) {", "        pm.collectionVariables.set('accessToken', jsonData.data.accessToken);", "        pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken);", "        console.log('âœ… Login successful! Token saved.');", "    }", "    if(jsonData.data.tempToken) {", "        pm.collectionVariables.set('tempToken', jsonData.data.tempToken);", "        console.log('ðŸ“ New user! TempToken saved for registration.');", "    }", "}"]}}]
            },
            {
              "name": "Step 3: Complete Registration (New User)",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/email/complete-registration",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"tempToken\": \"{{tempToken}}\",\n  \"fullName\": \"Nguyá»…n VÄƒn Huy\",\n  \"phoneNumber\": \"+84901234567\",\n  \"password\": \"Password@123\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessToken) {", "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);", "    pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken);", "    console.log('âœ… Registration complete! Token saved.');", "}"]}}]
            }
          ]
        },
        {
          "name": "ðŸ“± 1.2 Phone Authentication (Firebase)",
          "description": "ÄÄƒng nháº­p báº±ng sá»‘ Ä‘iá»‡n thoáº¡i qua Firebase",
          "item": [
            {
              "name": "Step 1: Phone Login with Firebase Token",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/phone-login",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"idToken\": \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"phoneNumber\": \"+84901234567\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    if(jsonData.data.accessToken) {", "        pm.collectionVariables.set('accessToken', jsonData.data.accessToken);", "        pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken);", "    }", "    if(jsonData.data.tempToken) {", "        pm.collectionVariables.set('tempToken', jsonData.data.tempToken);", "    }", "}"]}}]
            },
            {
              "name": "Step 2: Complete Registration (New Phone User)",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/complete-registration",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"tempToken\": \"{{tempToken}}\",\n  \"fullName\": \"Nguyá»…n VÄƒn A\",\n  \"email\": \"newuser@gmail.com\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessToken) {", "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);", "    pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken);", "}"]}}]
            }
          ]
        },
        {
          "name": "ðŸ‘” 1.3 Admin Authentication (2FA)",
          "description": "ÄÄƒng nháº­p Admin vá»›i xÃ¡c thá»±c 2 bÆ°á»›c",
          "item": [
            {
              "name": "Step 1: Admin Login",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/auth/login",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"admin@laundrylocker.com\",\n  \"password\": \"Password@123\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.tempToken) {", "    pm.collectionVariables.set('tempToken', jsonData.data.tempToken);", "    console.log('ðŸ“§ OTP sent to email. Check your inbox.');", "}"]}}]
            },
            {
              "name": "Step 2: Verify 2FA OTP",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/auth/verify-2fa",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"tempToken\": \"{{tempToken}}\",\n  \"otp\": \"123456\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessToken) {", "    pm.collectionVariables.set('adminAccessToken', jsonData.data.accessToken);", "    pm.collectionVariables.set('adminRefreshToken', jsonData.data.refreshToken);", "    console.log('âœ… Admin login successful!');", "}"]}}]
            },
            {
              "name": "Refresh Admin Token",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/auth/refresh",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"refreshToken\": \"{{adminRefreshToken}}\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessToken) {", "    pm.collectionVariables.set('adminAccessToken', jsonData.data.accessToken);", "}"]}}]
            }
          ]
        },
        {
          "name": "ðŸ¤ 1.4 Partner Authentication",
          "description": "ÄÄƒng nháº­p Partner",
          "item": [
            {
              "name": "Partner Login (Email OTP)",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/email/send-otp",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"partner1@laundrylocker.com\"\n}"}
              }
            },
            {
              "name": "Partner Verify OTP",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/email/verify-otp",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"partner1@laundrylocker.com\",\n  \"otp\": \"123456\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessToken) {", "    pm.collectionVariables.set('partnerAccessToken', jsonData.data.accessToken);", "    pm.collectionVariables.set('partnerRefreshToken', jsonData.data.refreshToken);", "    console.log('âœ… Partner login successful!');", "}"]}}]
            }
          ]
        },
        {
          "name": "ðŸ”„ 1.5 Token Management",
          "description": "Quáº£n lÃ½ token",
          "item": [
            {
              "name": "Refresh Token",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/refresh-token",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessToken) {", "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);", "}"]}}]
            },
            {
              "name": "Logout",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/logout",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"}
              }
            }
          ]
        },
        {
          "name": "ðŸ”‘ 1.6 Password Reset",
          "description": "QuÃªn/Ä‘áº·t láº¡i máº­t kháº©u",
          "item": [
            {
              "name": "Forgot Password",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/forgot-password",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"user1@laundrylocker.com\"\n}"}
              }
            },
            {
              "name": "Reset Password",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/auth/reset-password",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"user1@laundrylocker.com\",\n  \"otp\": \"123456\",\n  \"newPassword\": \"NewPassword@123\",\n  \"confirmPassword\": \"NewPassword@123\"\n}"}
              }
            }
          ]
        }
      ]
    },
    {
      "name": "ðŸ‘¤ 2. User Profile",
      "description": "Quáº£n lÃ½ thÃ´ng tin ngÆ°á»i dÃ¹ng",
      "item": [
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/user/profile",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/user/profile",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"fullName\": \"Nguyá»…n VÄƒn Huy Updated\",\n  \"phoneNumber\": \"+84901234567\",\n  \"address\": \"123 Nguyá»…n Huá»‡, Q.1, TP.HCM\"\n}"}
          }
        },
        {
          "name": "Update Avatar",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/user/avatar",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"imageUrl\": \"https://example.com/avatar.jpg\"\n}"}
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/user/password",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"currentPassword\": \"Password@123\",\n  \"newPassword\": \"NewPassword@456\"\n}"}
          }
        },
        {
          "name": "Register FCM Token",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/user/fcm-token",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"fcmToken\": \"dGVzdF9mY21fdG9rZW5fMTIzNDU2Nzg5\",\n  \"deviceType\": \"ANDROID\",\n  \"deviceId\": \"device-uuid-123\"\n}"}
          }
        },
        {
          "name": "Remove FCM Token",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/user/fcm-token?fcmToken=dGVzdF9mY21fdG9rZW5fMTIzNDU2Nzg5",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸª 3. Stores (Public)",
      "description": "TÃ¬m kiáº¿m cá»­a hÃ ng - API cÃ´ng khai",
      "item": [
        {
          "name": "Get All Stores",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/stores"}
        },
        {
          "name": "Get Store By ID",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/stores/{{storeId}}"}
        },
        {
          "name": "Get Nearby Stores",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/stores/nearby?latitude=10.7769&longitude=106.7009&radiusMeters=5000&limit=10"
          }
        },
        {
          "name": "Get Store Ratings",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/stores/{{storeId}}/ratings?page=0&size=10"}
        }
      ]
    },
    {
      "name": "ðŸ”’ 4. Lockers & Boxes (Public)",
      "description": "Quáº£n lÃ½ locker vÃ  box - API cÃ´ng khai",
      "item": [
        {
          "name": "Get All Lockers",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers"}
        },
        {
          "name": "Get Lockers By Store",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers?storeId={{storeId}}"}
        },
        {
          "name": "Get Locker By ID",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers/{{lockerId}}"}
        },
        {
          "name": "Get Boxes By Locker",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers/{{lockerId}}/boxes"}
        },
        {
          "name": "Get Available Boxes",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers/{{lockerId}}/boxes/available"}
        }
      ]
    },
    {
      "name": "ðŸ§º 5. Services (Public)",
      "description": "Danh sÃ¡ch dá»‹ch vá»¥ - API cÃ´ng khai\n\nðŸ“¦ SERVICE CATEGORIES:\n- STORAGE: Dá»‹ch vá»¥ gá»­i Ä‘á»“ (giÃ¡ cá»‘ Ä‘á»‹nh)\n- LAUNDRY: Dá»‹ch vá»¥ giáº·t Ä‘á»“ (giÃ¡ theo kg)",
      "item": [
        {
          "name": "Get All Services",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services"}
        },
        {
          "name": "Get Services by Category: STORAGE",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services?category=STORAGE"}
        },
        {
          "name": "Get Services by Category: LAUNDRY",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services?category=LAUNDRY"}
        },
        {
          "name": "Get Services By Store",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services?storeId={{storeId}}"}
        },
        {
          "name": "Get Services By Store & Category",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services?storeId={{storeId}}&category=LAUNDRY"}
        },
        {
          "name": "Get Service By ID",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services/{{serviceId}}"}
        }
      ]
    },
    {
      "name": "ðŸ“¦ 6. FLOW: Customer Order STORAGE",
      "description": "ðŸ”„ LUá»’NG Äáº¶T ÄÆ N Gá»¬I Äá»’ (STORAGE)\n\nBÆ°á»›c 1: TÃ¬m cá»­a hÃ ng & locker gáº§n nháº¥t\nBÆ°á»›c 2: Chá»n dá»‹ch vá»¥ gá»­i Ä‘á»“ (STORAGE)\nBÆ°á»›c 3: Táº¡o Ä‘Æ¡n hÃ ng\nBÆ°á»›c 4: Thanh toÃ¡n (báº¯t buá»™c trÆ°á»›c khi gá»­i)\nBÆ°á»›c 5: Nháº­n PIN, Ä‘áº¿n locker má»Ÿ box, bá» Ä‘á»“ vÃ o\nBÆ°á»›c 6: XÃ¡c nháº­n Ä‘Ã£ bá» Ä‘á»“\nBÆ°á»›c 7: Theo dÃµi Ä‘Æ¡n hÃ ng\nBÆ°á»›c 8: Nháº­n Ä‘á»“ khi háº¿t thá»i gian",
      "item": [
        {
          "name": "Step 1: Find Nearby Stores",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/stores/nearby?latitude=10.7769&longitude=106.7009&radiusMeters=5000"
          }
        },
        {
          "name": "Step 2: Get Available Lockers",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers?storeId={{storeId}}"}
        },
        {
          "name": "Step 3: Get Available Boxes",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers/{{lockerId}}/boxes/available"}
        },
        {
          "name": "Step 4: Get STORAGE Services",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services?category=STORAGE"}
        },
        {
          "name": "Step 5: Create STORAGE Order",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/orders",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"storeId\": 1,\n  \"sendBoxId\": 1,\n  \"notes\": \"Gá»­i tÃºi xÃ¡ch vÃ  laptop\",\n  \"intendedReceiveAt\": \"2026-02-04T18:00:00\",\n  \"orderDetails\": [\n    {\n      \"serviceId\": 1,\n      \"quantity\": 4,\n      \"notes\": \"Gá»­i 4 giá»\"\n    }\n  ]\n}"}
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    pm.collectionVariables.set('orderId', jsonData.data.id);", "    pm.collectionVariables.set('orderCode', jsonData.data.orderCode);", "    if(jsonData.data.pinCode) {", "        pm.collectionVariables.set('pinCode', jsonData.data.pinCode);", "    }", "    console.log('âœ… Order created:', jsonData.data.orderCode);", "    console.log('ðŸ“Œ PIN Code:', jsonData.data.pinCode);", "}"]}}]
        },
        {
          "name": "Step 6: Create Payment (VNPay)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/payments/create",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"orderId\": {{orderId}},\n  \"paymentMethod\": \"VNPAY\",\n  \"returnUrl\": \"https://app.laundrylocker.vn/payment/callback\"\n}"}
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    pm.collectionVariables.set('paymentId', jsonData.data.paymentId);", "    pm.collectionVariables.set('paymentUrl', jsonData.data.paymentUrl);", "    console.log('ðŸ’³ Payment URL:', jsonData.data.paymentUrl);", "}"]}}]
        },
        {
          "name": "Step 7: Check Payment Status",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/payments/{{paymentId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 8: Get Order with PIN",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/orders/{{orderId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 9: IoT - Verify PIN (Customer arrives at locker)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/verify-pin",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"pinCode\": \"{{pinCode}}\"\n}"}
          }
        },
        {
          "name": "Step 10: IoT - Unlock Box (Customer)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/unlock",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"pinCode\": \"{{pinCode}}\"\n}"}
          }
        },
        {
          "name": "Step 11: Confirm Order (After placing items)",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/confirm",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 12: Get Order Status",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/status",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 13: Get Order Timeline",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/timeline",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 14: Complete Order (Pickup items)",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/complete",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 15: Rate Order",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/rate",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"rating\": 5,\n  \"comment\": \"Dá»‹ch vá»¥ gá»­i Ä‘á»“ tiá»‡n lá»£i, an toÃ n!\",\n  \"serviceRating\": 5,\n  \"qualityRating\": 5,\n  \"speedRating\": 5\n}"}
          }
        }
      ]
    },
    {
      "name": "ðŸ§º 7. FLOW: Customer Order LAUNDRY",
      "description": "ðŸ”„ LUá»’NG Äáº¶T ÄÆ N GIáº¶T Äá»’ (LAUNDRY)\n\nBÆ°á»›c 1: TÃ¬m cá»­a hÃ ng & locker\nBÆ°á»›c 2: Chá»n dá»‹ch vá»¥ giáº·t (LAUNDRY)\nBÆ°á»›c 3: Táº¡o Ä‘Æ¡n vá»›i Æ°á»›c tÃ­nh cÃ¢n náº·ng\nBÆ°á»›c 4: Nháº­n PIN, bá» Ä‘á»“ vÃ o locker\nBÆ°á»›c 5: XÃ¡c nháº­n Ä‘Ã£ bá» Ä‘á»“ â†’ Partner nháº­n Ä‘Æ¡n\nBÆ°á»›c 6: Partner cÃ¢n thá»±c táº¿ & xá»­ lÃ½\nBÆ°á»›c 7: Partner tráº£ Ä‘á»“ vÃ o locker\nBÆ°á»›c 8: Thanh toÃ¡n (sau khi cÃ³ giÃ¡ thá»±c táº¿)\nBÆ°á»›c 9: Nháº­n Ä‘á»“ & Ä‘Ã¡nh giÃ¡",
      "item": [
        {
          "name": "Step 1: Find Nearby Stores",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/stores/nearby?latitude=10.7769&longitude=106.7009&radiusMeters=5000"
          }
        },
        {
          "name": "Step 2: Get Available Boxes",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/lockers/{{lockerId}}/boxes/available"}
        },
        {
          "name": "Step 3: Get LAUNDRY Services",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/services?category=LAUNDRY"}
        },
        {
          "name": "Step 4: Create LAUNDRY Order",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/orders",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"storeId\": 1,\n  \"sendBoxId\": 2,\n  \"estimatedWeight\": 3.5,\n  \"notes\": \"Quáº§n Ã¡o tráº¯ng giáº·t riÃªng, khÃ´ng sáº¥y mÃ¡y Ã¡o len\",\n  \"orderDetails\": [\n    {\n      \"serviceId\": 3,\n      \"quantity\": 2.5,\n      \"notes\": \"Giáº·t sáº¥y thÆ°á»ng\"\n    },\n    {\n      \"serviceId\": 4,\n      \"quantity\": 1.0,\n      \"notes\": \"Giáº·t khÃ´ Ã¡o vest\"\n    }\n  ]\n}"}
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    pm.collectionVariables.set('orderId', jsonData.data.id);", "    pm.collectionVariables.set('orderCode', jsonData.data.orderCode);", "    if(jsonData.data.pinCode) {", "        pm.collectionVariables.set('pinCode', jsonData.data.pinCode);", "    }", "    console.log('âœ… Laundry order created:', jsonData.data.orderCode);", "    console.log('ðŸ“Œ PIN Code:', jsonData.data.pinCode);", "    console.log('ðŸ’° Estimated Price:', jsonData.data.estimatedPrice);", "}"]}}]
        },
        {
          "name": "Step 5: Get Order Details",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/orders/{{orderId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 6: IoT - Unlock Box & Place Items",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/unlock",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"pinCode\": \"{{pinCode}}\"\n}"}
          }
        },
        {
          "name": "Step 7: Confirm Order (After placing items)",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/confirm",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 8: Check Order Status",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/status",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 9: Get Order by Code",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/orders/code/{{orderCode}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 10: Get My Orders",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/orders/my-orders?page=0&size=10",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Step 11: Cancel Order (Optional)",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/cancel?reason=Äá»•i Ã½ khÃ´ng sá»­ dá»¥ng dá»‹ch vá»¥",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸ­ 8. FLOW: Partner Process Order",
      "description": "ðŸ”„ LUá»’NG Xá»¬ LÃ ÄÆ N HÃ€NG (PARTNER)\n\nBÆ°á»›c 1: Xem Ä‘Æ¡n hÃ ng chá» xá»­ lÃ½\nBÆ°á»›c 2: Cháº¥p nháº­n Ä‘Æ¡n â†’ Nháº­n Access Code\nBÆ°á»›c 3: Gá»­i Access Code cho nhÃ¢n viÃªn\nBÆ°á»›c 4: NhÃ¢n viÃªn má»Ÿ locker láº¥y Ä‘á»“\nBÆ°á»›c 5: Cáº­p nháº­t cÃ¢n náº·ng thá»±c táº¿\nBÆ°á»›c 6: ÄÃ¡nh dáº¥u Ä‘ang xá»­ lÃ½\nBÆ°á»›c 7: HoÃ n thÃ nh â†’ Nháº­n Access Code tráº£ Ä‘á»“\nBÆ°á»›c 8: Tráº£ Ä‘á»“ vÃ o locker",
      "item": [
        {
          "name": "Step 1: Get Partner Dashboard",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/dashboard",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Step 2: Get Pending Orders",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/orders/pending?page=0&size=10",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Step 3: Get Order Detail",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/orders/{{orderId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Step 4: Accept Order (Get Collection Code)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/partner/orders/{{orderId}}/accept?expirationHours=24&notes=Thu%20gom%20trÆ°á»›c%2016h",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessCode) {", "    pm.collectionVariables.set('accessCode', jsonData.data.accessCode);", "    console.log('ðŸ”‘ Collection Access Code:', jsonData.data.accessCode);", "}"]}}]
        },
        {
          "name": "Step 5: IoT - Staff Unlock with Access Code",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/unlock-with-code",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"accessCode\": \"{{accessCode}}\"\n}"}
          }
        },
        {
          "name": "Step 6: Mark Order Collected",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/collect",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Step 7: Update Actual Weight",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/partner/orders/{{orderId}}/weight",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"actualWeight\": 4.2,\n  \"weightDifference\": 0.7,\n  \"notes\": \"KhÃ¡ch gá»­i thÃªm 2 Ã¡o khoÃ¡c\"\n}"}
          }
        },
        {
          "name": "Step 8: Start Processing",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/partner/orders/{{orderId}}/process",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Step 9: Mark Ready (Get Return Code)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/partner/orders/{{orderId}}/ready?expirationHours=48",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.accessCode) {", "    pm.collectionVariables.set('accessCode', jsonData.data.accessCode);", "    console.log('ðŸ”‘ Return Access Code:', jsonData.data.accessCode);", "}"]}}]
        },
        {
          "name": "Step 10: IoT - Staff Return Items to Locker",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/unlock-with-code",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": 5,\n  \"accessCode\": \"{{accessCode}}\"\n}"}
          }
        },
        {
          "name": "Step 11: Mark Order Returned",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/orders/{{orderId}}/return",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"returnBoxId\": 5\n}"}
          }
        },
        {
          "name": "Step 12: Get Order Statistics",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/orders/statistics",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸ”‘ 9. Partner Access Code Management",
      "description": "Quáº£n lÃ½ Access Code cho nhÃ¢n viÃªn bÃªn ngoÃ i",
      "item": [
        {
          "name": "Generate Access Code",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/partner/access-codes/generate",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"orderId\": {{orderId}},\n  \"purpose\": \"COLLECTION\",\n  \"expirationHours\": 24,\n  \"notes\": \"MÃ£ cho nhÃ¢n viÃªn thu gom - Ca sÃ¡ng\"\n}"}
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    pm.collectionVariables.set('accessCode', jsonData.data.code);", "    pm.collectionVariables.set('accessCodeId', jsonData.data.id);", "}"]}}]
        },
        {
          "name": "Get Access Codes List",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/access-codes?page=0&size=10",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Access Codes by Order",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/access-codes/order/{{orderId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Cancel Access Code",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/partner/access-codes/{{accessCodeId}}/cancel",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸ’³ 10. FLOW: Payment",
      "description": "ðŸ”„ LUá»’NG THANH TOÃN\n\nSupport:\n- VNPay\n- MoMo\n\nLuá»“ng:\n1. Táº¡o payment â†’ Nháº­n URL thanh toÃ¡n\n2. Redirect user Ä‘áº¿n trang thanh toÃ¡n\n3. Callback xá»­ lÃ½ káº¿t quáº£\n4. Kiá»ƒm tra tráº¡ng thÃ¡i",
      "item": [
        {
          "name": "Create Payment (VNPay)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/payments/create",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"orderId\": {{orderId}},\n  \"paymentMethod\": \"VNPAY\",\n  \"bankCode\": \"VNBANK\",\n  \"returnUrl\": \"https://app.laundrylocker.vn/payment/callback\"\n}"}
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    pm.collectionVariables.set('paymentId', jsonData.data.paymentId);", "    pm.collectionVariables.set('paymentUrl', jsonData.data.paymentUrl);", "    console.log('ðŸ’³ Payment URL:', jsonData.data.paymentUrl);", "}"]}}]
        },
        {
          "name": "Create Payment (MoMo)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/payments/create",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"orderId\": {{orderId}},\n  \"paymentMethod\": \"MOMO\",\n  \"returnUrl\": \"https://app.laundrylocker.vn/payment/callback\"\n}"}
          }
        },
        {
          "name": "VNPay IPN Callback (Server-to-Server)",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/payments/vnpay/ipn?vnp_ResponseCode=00&vnp_TxnRef={{orderId}}&vnp_Amount=10000000"}
        },
        {
          "name": "VNPay Return URL",
          "request": {"method": "GET", "url": "{{baseUrl}}/api/payments/vnpay/return?vnp_ResponseCode=00&vnp_TxnRef={{orderId}}"}
        },
        {
          "name": "MoMo Callback",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/payments/momo/callback",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"partnerCode\": \"MOMO\",\n  \"orderId\": \"{{orderId}}\",\n  \"resultCode\": 0,\n  \"message\": \"Successful.\"\n}"}
          }
        },
        {
          "name": "Get Payment By ID",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/payments/{{paymentId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get Payments By Order",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/payments/order/{{orderId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Request Refund",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/payments/{{paymentId}}/refund",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"amount\": 50000,\n  \"reason\": \"KhÃ¡ch há»§y má»™t pháº§n dá»‹ch vá»¥\"\n}"}
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data) {", "    pm.collectionVariables.set('refundId', jsonData.data.id);", "}"]}}]
        },
        {
          "name": "Get Refund Status",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/payments/refund/{{refundId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get Order Refunds",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/payments/order/{{orderId}}/refunds",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸ”” 11. Notifications",
      "description": "Quáº£n lÃ½ thÃ´ng bÃ¡o",
      "item": [
        {
          "name": "Get Notifications (Paginated)",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/notifications?page=0&size=20",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get All Notifications",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/notifications/all",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get Unread Notifications",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/notifications/unread",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get Unread Count",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/notifications/unread/count",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Mark As Read",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/notifications/{{notificationId}}/read",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Mark All As Read",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/notifications/read-all",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Delete Notification",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/notifications/{{notificationId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸŽ 12. FLOW: Loyalty",
      "description": "ðŸ”„ LUá»’NG LOYALTY - ÄIá»‚M THÆ¯á»žNG\n\nTÃ­ch Ä‘iá»ƒm: Má»—i 10,000 VND = 1 Ä‘iá»ƒm\nÄá»•i Ä‘iá»ƒm: 1 Ä‘iá»ƒm = 1 VND\nTháº» tem: 6 tem = 1 láº§n giáº·t miá»…n phÃ­",
      "item": [
        {
          "name": "Get Loyalty Summary",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/loyalty/summary",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get Points Account",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/loyalty/points",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get Points History",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/loyalty/points/history?page=0&size=20",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Redeem Points",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/loyalty/redeem-points",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"orderId\": {{orderId}},\n  \"points\": 5000\n}"}
          }
        },
        {
          "name": "Get Expiring Points",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/loyalty/expiring-points",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        },
        {
          "name": "Get Stamp Cards",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/loyalty/stamps",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          },
          "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.length > 0) {", "    pm.collectionVariables.set('stampCardId', jsonData.data[0].id);", "}"]}}]
        },
        {
          "name": "Redeem Stamp",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/loyalty/redeem-stamp",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"stampCardId\": {{stampCardId}},\n  \"orderId\": {{orderId}}\n}"}
          }
        },
        {
          "name": "Get Available Rewards",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/loyalty/rewards",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸ¤– 13. IoT APIs",
      "description": "APIs cho IoT devices\n\nCustomer: Sá»­ dá»¥ng PIN code\nStaff: Sá»­ dá»¥ng Access Code",
      "item": [
        {
          "name": "ðŸ”“ Customer - Verify PIN",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/verify-pin",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"pinCode\": \"{{pinCode}}\"\n}"}
          }
        },
        {
          "name": "ðŸ”“ Customer - Unlock Box (PIN)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/unlock",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"pinCode\": \"{{pinCode}}\"\n}"}
          }
        },
        {
          "name": "ðŸ”“ Customer - Confirm Pickup",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/pickup",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"orderId\": {{orderId}},\n  \"boxId\": {{boxId}}\n}"}
          }
        },
        {
          "name": "ðŸ”‘ Staff - Unlock with Access Code",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/unlock-with-code",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"accessCode\": \"{{accessCode}}\"\n}"}
          }
        },
        {
          "name": "ðŸ“¡ Update Box Status",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/iot/box-status",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"status\": \"OCCUPIED\",\n  \"sensorData\": {\n    \"weight\": 3.5,\n    \"temperature\": 25,\n    \"humidity\": 60\n  }\n}"}
          }
        }
      ]
    },
    {
      "name": "ðŸ‘· 14. Staff APIs",
      "description": "APIs cho staff operations (Role: ADMIN/PARTNER)",
      "item": [
        {
          "name": "Get Orders Summary",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/staff/orders",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Waiting Orders",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/staff/orders/waiting",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Processing Orders",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/staff/orders/processing",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Ready Orders",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/staff/orders/ready",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Assign Order To Me",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/staff/orders/{{orderId}}/assign",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get My Assigned Orders",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/staff/orders/my-assigned",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Lockers",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/staff/lockers",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Unlock Box (Master PIN)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/staff/unlock-box",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"boxId\": {{boxId}},\n  \"masterPin\": \"999999\"\n}"}
          }
        }
      ]
    },
    {
      "name": "ðŸ¤ 15. Partner Management",
      "description": "APIs quáº£n lÃ½ Partner",
      "item": [
        {
          "name": "Register as Partner",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/partner",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"businessName\": \"Tiá»‡m Giáº·t ABC\",\n  \"businessLicense\": \"1234567890\",\n  \"taxId\": \"0123456789\",\n  \"address\": \"456 LÃª VÄƒn Sá»¹, Q.3, TP.HCM\",\n  \"phoneNumber\": \"+84912345678\",\n  \"description\": \"Dá»‹ch vá»¥ giáº·t á»§i chuyÃªn nghiá»‡p tá»« nÄƒm 2010\"\n}"}
          }
        },
        {
          "name": "Get My Partner Profile",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Update Partner Profile",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/partner",
            "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}],
            "body": {"mode": "raw", "raw": "{\n  \"businessName\": \"Tiá»‡m Giáº·t ABC Premium\",\n  \"description\": \"Dá»‹ch vá»¥ giáº·t á»§i cao cáº¥p\"\n}"}
          }
        },
        {
          "name": "Get Partner Stores",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/stores",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Partner Lockers",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/lockers",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Partner Revenue",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/revenue?fromDate=2026-02-01T00:00:00&toDate=2026-02-28T23:59:59",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Get Staff List",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/partner/staff",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Add Staff",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/partner/staff/{{userId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        },
        {
          "name": "Remove Staff",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/partner/staff/{{userId}}",
            "header": [{"key": "Authorization", "value": "Bearer {{partnerAccessToken}}"}]
          }
        }
      ]
    },
    {
      "name": "ðŸ”§ 16. Admin APIs",
      "description": "APIs cho Admin (Role: ADMIN)\nYÃªu cáº§u: adminAccessToken",
      "item": [
        {
          "name": "ðŸ“Š 16.1 Dashboard",
          "item": [
            {
              "name": "Get Dashboard Overview",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/dashboard/overview",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ‘¥ 16.2 Users Management",
          "item": [
            {
              "name": "Get All Users",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/users?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get User By ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/users/{{userId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Create User",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/users",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"email\": \"newuser@gmail.com\",\n  \"password\": \"Password@123\",\n  \"fullName\": \"NgÆ°á»i DÃ¹ng Má»›i\",\n  \"phoneNumber\": \"+84909999999\",\n  \"roles\": [\"USER\"]\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.id) {", "    pm.collectionVariables.set('userId', jsonData.data.id);", "}"]}}]
            },
            {
              "name": "Update User",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/users/{{userId}}",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"fullName\": \"NgÆ°á»i DÃ¹ng Updated\",\n  \"phoneNumber\": \"+84909999888\"\n}"}
              }
            },
            {
              "name": "Update User Status",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/users/{{userId}}/status",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"enabled\": false\n}"}
              }
            },
            {
              "name": "Update User Roles",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/users/{{userId}}/roles",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"roles\": [\"USER\", \"PARTNER\"]\n}"}
              }
            },
            {
              "name": "Delete User",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/api/admin/users/{{userId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ¤ 16.3 Partners Management",
          "item": [
            {
              "name": "Get All Partners",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/partners?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Partner By ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/partners/{{partnerId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Approve Partner",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/partners/{{partnerId}}/approve",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Reject Partner",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/partners/{{partnerId}}/reject?reason=Thiáº¿u giáº¥y phÃ©p kinh doanh",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Suspend Partner",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/partners/{{partnerId}}/suspend?reason=Vi pháº¡m Ä‘iá»u khoáº£n",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸª 16.4 Stores Management",
          "item": [
            {
              "name": "Get All Stores",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/stores?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Store By ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/stores/{{storeId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Create Store",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/stores",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"name\": \"Laundry Express Quáº­n 7\",\n  \"address\": \"789 Nguyá»…n VÄƒn Linh, Q.7\",\n  \"phoneNumber\": \"+84901234567\",\n  \"latitude\": 10.7315,\n  \"longitude\": 106.7219,\n  \"partnerId\": 1,\n  \"openTime\": \"07:00\",\n  \"closeTime\": \"22:00\"\n}"}
              }
            },
            {
              "name": "Update Store",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/stores/{{storeId}}",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"name\": \"Laundry Express Updated\",\n  \"address\": \"789 Nguyá»…n VÄƒn Linh, Q.7\"\n}"}
              }
            },
            {
              "name": "Update Store Status",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/stores/{{storeId}}/status",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"active\": false\n}"}
              }
            },
            {
              "name": "Delete Store",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/api/admin/stores/{{storeId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ”’ 16.5 Lockers Management",
          "item": [
            {
              "name": "Get All Lockers",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/lockers?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Create Locker",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/lockers",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"name\": \"Locker C - Táº§ng 3\",\n  \"storeId\": 1,\n  \"location\": \"Táº§ng 3, cáº¡nh thang mÃ¡y\"\n}"}
              }
            },
            {
              "name": "Update Locker",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/lockers/{{lockerId}}",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"name\": \"Locker C Updated\",\n  \"location\": \"Táº§ng 3 - Updated\"\n}"}
              }
            },
            {
              "name": "Set Locker Maintenance",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/lockers/{{lockerId}}/maintenance",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"maintenance\": true\n}"}
              }
            },
            {
              "name": "Add Box to Locker",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/lockers/{{lockerId}}/boxes",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"boxNumber\": \"C01\",\n  \"size\": \"LARGE\"\n}"}
              }
            },
            {
              "name": "Update Box Status",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/lockers/boxes/{{boxId}}/status",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"status\": \"MAINTENANCE\"\n}"}
              }
            },
            {
              "name": "Delete Locker",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/api/admin/lockers/{{lockerId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ§º 16.6 Services Management",
          "item": [
            {
              "name": "Get All Services",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/services?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Service By ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/services/{{serviceId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Create Service (LAUNDRY)",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/services",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"name\": \"Giáº·t khÃ´ cao cáº¥p\",\n  \"description\": \"Giáº·t khÃ´ cho vest vÃ  Ã¡o dÃ i\",\n  \"category\": \"LAUNDRY\",\n  \"serviceType\": \"LAUNDRY\",\n  \"pricePerKg\": 80000,\n  \"maxPrice\": 250000,\n  \"estimatedHours\": 72,\n  \"active\": true\n}"}
              }
            },
            {
              "name": "Create Service (STORAGE)",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/services",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"name\": \"Gá»­i Ä‘á»“ VIP\",\n  \"description\": \"Gá»­i Ä‘á»“ há»™p lá»›n cÃ³ báº£o hiá»ƒm\",\n  \"category\": \"STORAGE\",\n  \"serviceType\": \"STANDARD_DROPOFF\",\n  \"pricePerHour\": 10000,\n  \"active\": true\n}"}
              }
            },
            {
              "name": "Update Service",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/services/{{serviceId}}",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"name\": \"Giáº·t khÃ´ Premium\",\n  \"description\": \"Giáº·t khÃ´ chuyÃªn nghiá»‡p\"\n}"}
              }
            },
            {
              "name": "Update Service Price",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/services/{{serviceId}}/price",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"pricePerKg\": 90000\n}"}
              }
            },
            {
              "name": "Update Service Status",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/services/{{serviceId}}/status",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"active\": false\n}"}
              }
            },
            {
              "name": "Delete Service",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/api/admin/services/{{serviceId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ“¦ 16.7 Orders Management",
          "item": [
            {
              "name": "Get All Orders",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/orders?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Order By ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/orders/{{orderId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Update Order Status",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/orders/{{orderId}}/status",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"status\": \"PROCESSING\"\n}"}
              }
            },
            {
              "name": "Get Order Statistics",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/orders/statistics",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Revenue Report",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/orders/revenue?fromDate=2026-02-01&toDate=2026-02-28",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ’³ 16.8 Payments Management",
          "item": [
            {
              "name": "Get All Payments",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/payments?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Payment By ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/payments/{{paymentId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Update Payment Status",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/payments/{{paymentId}}/status",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"status\": \"COMPLETED\"\n}"}
              }
            }
          ]
        },
        {
          "name": "ðŸŽ 16.9 Promotions Management",
          "item": [
            {
              "name": "Get All Promotions",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/promotions?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Active Promotions",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/promotions/active",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Validate Promotion Code",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/promotions/validate/NEWUSER50",
                "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}]
              }
            },
            {
              "name": "Create Promotion",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/promotions",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"code\": \"NEWUSER50\",\n  \"description\": \"Giáº£m 50% cho ngÆ°á»i dÃ¹ng má»›i\",\n  \"discountType\": \"PERCENTAGE\",\n  \"discountValue\": 50,\n  \"minOrderAmount\": 100000,\n  \"maxDiscount\": 100000,\n  \"usageLimit\": 1000,\n  \"startDate\": \"2026-02-01T00:00:00\",\n  \"endDate\": \"2026-02-28T23:59:59\",\n  \"active\": true\n}"}
              },
              "event": [{"listen": "test", "script": {"exec": ["var jsonData = pm.response.json();", "if(jsonData.data && jsonData.data.id) {", "    pm.collectionVariables.set('promotionId', jsonData.data.id);", "}"]}}]
            },
            {
              "name": "Update Promotion",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/api/admin/promotions/{{promotionId}}",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"description\": \"Giáº£m 50% cho ngÆ°á»i dÃ¹ng má»›i - Updated\",\n  \"maxDiscount\": 150000\n}"}
              }
            },
            {
              "name": "Delete Promotion",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/api/admin/promotions/{{promotionId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸŽ 16.10 Loyalty Management",
          "item": [
            {
              "name": "Get User Loyalty Summary",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/loyalty/users/{{userId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Adjust User Points",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/loyalty/users/{{userId}}/adjust-points",
                "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}],
                "body": {"mode": "raw", "raw": "{\n  \"points\": 1000,\n  \"reason\": \"Bonus thÆ°á»Ÿng khÃ¡ch hÃ ng thÃ¢n thiáº¿t\"\n}"}
              }
            },
            {
              "name": "Get User Points History",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/loyalty/users/{{userId}}/history?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Loyalty Statistics",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/loyalty/statistics",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "â° 16.11 Scheduler Management",
          "item": [
            {
              "name": "Get Scheduler Status",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/scheduler/status",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Trigger Auto-Cancel Job",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/scheduler/auto-cancel",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Trigger Box Release Job",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/scheduler/release-boxes",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Trigger Pickup Reminders",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/api/admin/scheduler/pickup-reminders",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ”§ 16.12 System",
          "item": [
            {
              "name": "Get System Health",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/system/health",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        },
        {
          "name": "ðŸ“‹ 16.13 Audit Logs",
          "item": [
            {
              "name": "Get All Audit Logs",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/audit-logs?page=0&size=20",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Audit Logs By Entity",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/audit-logs/entity/ORDER/{{orderId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Audit Logs By User",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/audit-logs/user/{{userId}}",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            },
            {
              "name": "Get Audit Log Statistics",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/api/admin/audit-logs/statistics",
                "header": [{"key": "Authorization", "value": "Bearer {{adminAccessToken}}"}]
              }
            }
          ]
        }
      ]
    }
  ]
}
